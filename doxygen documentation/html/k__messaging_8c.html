<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lightweight Message-Passing Embedded Kernel: kernel/k_messaging.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lightweight Message-Passing Embedded Kernel
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">k_messaging.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains all message and message box allocation management and all supporting functionality regarding IPC via messages.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="k__messaging_8h_source.html">k_messaging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="k__scheduler_8h_source.html">k_scheduler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dlist_8h_source.html">dlist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="k__cpu_8h_source.html">k_cpu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bitmap_8h_source.html">bitmap.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a131bebb939c80d50ad16a2d5a9c43b1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a131bebb939c80d50ad16a2d5a9c43b1d">k_MsgInit</a> ()</td></tr>
<tr class="memdesc:a131bebb939c80d50ad16a2d5a9c43b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initalizes the Messaging Module.  <a href="k__messaging_8c.html#a131bebb939c80d50ad16a2d5a9c43b1d">More...</a><br /></td></tr>
<tr class="separator:a131bebb939c80d50ad16a2d5a9c43b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffd1ebbd6129aa2ea8570ab6ac7c40d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#acffd1ebbd6129aa2ea8570ab6ac7c40d">k_MsgBoxBind</a> (<a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a> id, <a class="el" href="k__types_8h.html#a6473849d68b43131fac8ddf309450eaf">pcb_t</a> *owner)</td></tr>
<tr class="memdesc:acffd1ebbd6129aa2ea8570ab6ac7c40d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binds a message box to a process.  <a href="k__messaging_8c.html#acffd1ebbd6129aa2ea8570ab6ac7c40d">More...</a><br /></td></tr>
<tr class="separator:acffd1ebbd6129aa2ea8570ab6ac7c40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634e8b22ad815f934aa721f3bffc5630"><td class="memItemLeft" align="right" valign="top"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a634e8b22ad815f934aa721f3bffc5630">k_MsgBoxUnbind</a> (<a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a> id, <a class="el" href="k__types_8h.html#a6473849d68b43131fac8ddf309450eaf">pcb_t</a> *proc)</td></tr>
<tr class="memdesc:a634e8b22ad815f934aa721f3bffc5630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unbinds a message box from a process.  <a href="k__messaging_8c.html#a634e8b22ad815f934aa721f3bffc5630">More...</a><br /></td></tr>
<tr class="separator:a634e8b22ad815f934aa721f3bffc5630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa10175dda682467af0afb21aa1785efc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#aa10175dda682467af0afb21aa1785efc">k_MsgBoxUnbindAll</a> (<a class="el" href="k__types_8h.html#a6473849d68b43131fac8ddf309450eaf">pcb_t</a> *proc)</td></tr>
<tr class="memdesc:aa10175dda682467af0afb21aa1785efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unbinds all message boxes bound to a process.  <a href="k__messaging_8c.html#aa10175dda682467af0afb21aa1785efc">More...</a><br /></td></tr>
<tr class="separator:aa10175dda682467af0afb21aa1785efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9a71fc033e0800851d3fcd1d24a1b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a0d9a71fc033e0800851d3fcd1d24a1b4">k_pMsgAllocate</a> (uint8_t *data, uint32_t size)</td></tr>
<tr class="memdesc:a0d9a71fc033e0800851d3fcd1d24a1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates message and fills its data and size.  <a href="k__messaging_8c.html#a0d9a71fc033e0800851d3fcd1d24a1b4">More...</a><br /></td></tr>
<tr class="separator:a0d9a71fc033e0800851d3fcd1d24a1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f49ca1a455ee48b9566a2c6257aab49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a1f49ca1a455ee48b9566a2c6257aab49">k_pMsgDeallocate</a> (<a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> **msg)</td></tr>
<tr class="memdesc:a1f49ca1a455ee48b9566a2c6257aab49"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-allocates a message.  <a href="k__messaging_8c.html#a1f49ca1a455ee48b9566a2c6257aab49">More...</a><br /></td></tr>
<tr class="separator:a1f49ca1a455ee48b9566a2c6257aab49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4102c8314e622c810fd8520210a4aa39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a4102c8314e622c810fd8520210a4aa39">k_MsgSend</a> (<a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *msg, size_t *retsize)</td></tr>
<tr class="memdesc:a4102c8314e622c810fd8520210a4aa39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message from one process to another.  <a href="k__messaging_8c.html#a4102c8314e622c810fd8520210a4aa39">More...</a><br /></td></tr>
<tr class="separator:a4102c8314e622c810fd8520210a4aa39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410b0e1c8cc0056a178c1ef49ad45bc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a410b0e1c8cc0056a178c1ef49ad45bc4">k_MsgRecv</a> (<a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *msg, size_t *retsize)</td></tr>
<tr class="memdesc:a410b0e1c8cc0056a178c1ef49ad45bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recieves a message from a process to another.  <a href="k__messaging_8c.html#a410b0e1c8cc0056a178c1ef49ad45bc4">More...</a><br /></td></tr>
<tr class="separator:a410b0e1c8cc0056a178c1ef49ad45bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2296f76d232e8344b339d30d174bcf98"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a2296f76d232e8344b339d30d174bcf98">k_pMsgTransfer</a> (<a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *dst, <a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *src)</td></tr>
<tr class="memdesc:a2296f76d232e8344b339d30d174bcf98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers a message to another.  <a href="k__messaging_8c.html#a2296f76d232e8344b339d30d174bcf98">More...</a><br /></td></tr>
<tr class="separator:a2296f76d232e8344b339d30d174bcf98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343391f72abbf77fc8d2958500298af1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a343391f72abbf77fc8d2958500298af1">k_MsgClearAll</a> (<a class="el" href="k__types_8h.html#adfae53016c14d3763e0455b0e6f38d21">pmsgbox_t</a> *box)</td></tr>
<tr class="memdesc:a343391f72abbf77fc8d2958500298af1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all Messages currently in the message box.  <a href="k__messaging_8c.html#a343391f72abbf77fc8d2958500298af1">More...</a><br /></td></tr>
<tr class="separator:a343391f72abbf77fc8d2958500298af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e4d17dd7f132ac9891b633571b3609"><td class="memItemLeft" align="right" valign="top"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a70e4d17dd7f132ac9891b633571b3609">k_SearchMessageList</a> (<a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *msg, <a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a> box)</td></tr>
<tr class="memdesc:a70e4d17dd7f132ac9891b633571b3609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches through message list for a message with a particular message box as its source.  <a href="k__messaging_8c.html#a70e4d17dd7f132ac9891b633571b3609">More...</a><br /></td></tr>
<tr class="separator:a70e4d17dd7f132ac9891b633571b3609"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af13fb459b3a3884a522d406c5b2fad24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="k__types_8h.html#adfae53016c14d3763e0455b0e6f38d21">pmsgbox_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#af13fb459b3a3884a522d406c5b2fad24">msgbox</a> [<a class="el" href="k__defs_8h.html#af64b8ee4c12f1984c0da85a98942cd0d">BOXID_MAX</a>]</td></tr>
<tr class="separator:af13fb459b3a3884a522d406c5b2fad24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372a0135e18fd22c559850aa94360d27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitmap_8h.html#a635fc51278a0405ab33bc1adf9c3f58b">bitmap_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a372a0135e18fd22c559850aa94360d27">available_box</a> [<a class="el" href="k__defs_8h.html#afc673d12a10de2c32e1e87f49b5716b9">MSGBOX_BITMAP_SIZE</a>]</td></tr>
<tr class="separator:a372a0135e18fd22c559850aa94360d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2687ae33d048cec3b698667e94d7f58e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitmap_8h.html#a635fc51278a0405ab33bc1adf9c3f58b">bitmap_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a2687ae33d048cec3b698667e94d7f58e">available_msg</a> [<a class="el" href="k__defs_8h.html#a238392e852f08c23e6bbc8408adfcba1">MSG_BITMAP_SIZE</a>]</td></tr>
<tr class="separator:a2687ae33d048cec3b698667e94d7f58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff60e26295d93d5bcc2821a164d4a89f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#aff60e26295d93d5bcc2821a164d4a89f">msg_table</a> [<a class="el" href="k__defs_8h.html#a125068d98a9d9d367518ed22f5b8568e">MSG_MAX</a>]</td></tr>
<tr class="separator:aff60e26295d93d5bcc2821a164d4a89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cacbf0a017b070822ec6c213074b6af"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k__messaging_8c.html#a8cacbf0a017b070822ec6c213074b6af">msg_buffer</a> [<a class="el" href="k__defs_8h.html#a125068d98a9d9d367518ed22f5b8568e">MSG_MAX</a>][<a class="el" href="k__defs_8h.html#aa5a2da7fe0739dc631b4f9bc25ca1001">MSG_MAX_SIZE</a>]</td></tr>
<tr class="separator:a8cacbf0a017b070822ec6c213074b6af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains all message and message box allocation management and all supporting functionality regarding IPC via messages. </p>
<dl class="section author"><dt>Author</dt><dd>Manuel Burnay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019.11.18 (Created) </dd>
<dd>
2019.11.29 (Last Modified) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="acffd1ebbd6129aa2ea8570ab6ac7c40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acffd1ebbd6129aa2ea8570ab6ac7c40d">&#9670;&nbsp;</a></span>k_MsgBoxBind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a> k_MsgBoxBind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a6473849d68b43131fac8ddf309450eaf">pcb_t</a> *&#160;</td>
          <td class="paramname"><em>owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binds a message box to a process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Box ID of the box to be bound to the process. (*) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">owner</td><td>Pointer to process to have a box bound to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Box ID that was bound to the process. BOX_ERR if it wasn't possible to bind a box to the process.</dd></dl>
<p>If box ID is ANY_BOX, then an available box is bound to the process. </p>

</div>
</div>
<a id="a634e8b22ad815f934aa721f3bffc5630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634e8b22ad815f934aa721f3bffc5630">&#9670;&nbsp;</a></span>k_MsgBoxUnbind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a> k_MsgBoxUnbind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a6473849d68b43131fac8ddf309450eaf">pcb_t</a> *&#160;</td>
          <td class="paramname"><em>proc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unbinds a message box from a process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Box ID to be unbound from process. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">proc</td><td>Process to have the box unbound from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the unbind was successful, otherwise the box ID that was attempted to be unbound. </dd></dl>

</div>
</div>
<a id="aa10175dda682467af0afb21aa1785efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa10175dda682467af0afb21aa1785efc">&#9670;&nbsp;</a></span>k_MsgBoxUnbindAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_MsgBoxUnbindAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a6473849d68b43131fac8ddf309450eaf">pcb_t</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unbinds all message boxes bound to a process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">proc</td><td>pointer to process PCB to unbind all boxes from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a343391f72abbf77fc8d2958500298af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a343391f72abbf77fc8d2958500298af1">&#9670;&nbsp;</a></span>k_MsgClearAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_MsgClearAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#adfae53016c14d3763e0455b0e6f38d21">pmsgbox_t</a> *&#160;</td>
          <td class="paramname"><em>box</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all Messages currently in the message box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">box</td><td>Message box to clear messages from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a131bebb939c80d50ad16a2d5a9c43b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a131bebb939c80d50ad16a2d5a9c43b1d">&#9670;&nbsp;</a></span>k_MsgInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_MsgInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initalizes the Messaging Module. </p>

</div>
</div>
<a id="a410b0e1c8cc0056a178c1ef49ad45bc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410b0e1c8cc0056a178c1ef49ad45bc4">&#9670;&nbsp;</a></span>k_MsgRecv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_MsgRecv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>retsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recieves a message from a process to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dst_msg</td><td>Pointer to the receiver's message slot. A message that is awaiting to be received will be copied here. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">retsize</td><td>Number of bytes successfully received.</td></tr>
  </table>
  </dd>
</dl>
<p>If there isn't any messages to receive, the dst_msg and retsize's addresses are copied onto the receiver's message box and the process that owns the message box is then blocked while it awaits for another process to send it a message. </p>

</div>
</div>
<a id="a4102c8314e622c810fd8520210a4aa39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4102c8314e622c810fd8520210a4aa39">&#9670;&nbsp;</a></span>k_MsgSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_MsgSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>retsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message from one process to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message to be sent to a process. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">retsize</td><td>Amount of bytes successfully sent to message box.</td></tr>
  </table>
  </dd>
</dl>
<p>If a message was sent to a process that was awaiting the message, then this function places that process back into its scheduling queue and calls the scheduler trap to re-evaluate the running process. </p>

</div>
</div>
<a id="a0d9a71fc033e0800851d3fcd1d24a1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9a71fc033e0800851d3fcd1d24a1b4">&#9670;&nbsp;</a></span>k_pMsgAllocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a>* k_pMsgAllocate </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates message and fills its data and size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the message data to be copied to the message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the message data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated message if the allocation was successful, NULL if it was unsuccessful. </dd></dl>

</div>
</div>
<a id="a1f49ca1a455ee48b9566a2c6257aab49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f49ca1a455ee48b9566a2c6257aab49">&#9670;&nbsp;</a></span>k_pMsgDeallocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void k_pMsgDeallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> **&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>De-allocates a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">msg</td><td>pointer to message pointer to be deallocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2296f76d232e8344b339d30d174bcf98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2296f76d232e8344b339d30d174bcf98">&#9670;&nbsp;</a></span>k_pMsgTransfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t k_pMsgTransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transfers a message to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dst</td><td>Pointer to message that will be overwritten </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>Pointer to src message whose contents will be copied. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Amount of bytes successfully transfered from one message to another.</dd></dl>
<p>If the destination doesn't have a valid data pointer, data won't be transfered, but the size of the "would-be" transfer is still recorded. This allows for messages that just want the size of the message to be possible. </p>

</div>
</div>
<a id="a70e4d17dd7f132ac9891b633571b3609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e4d17dd7f132ac9891b633571b3609">&#9670;&nbsp;</a></span>k_SearchMessageList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a>* k_SearchMessageList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="k__types_8h.html#a5fa90c34369b535c8845a9ace5b5c67b">pmbox_t</a>&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches through message list for a message with a particular message box as its source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>pointer to message list entry point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">box</td><td>box ID to search message's source for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to message whose source has a matching box ID. NULL if no messages in message list has a source matching the box ID. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a372a0135e18fd22c559850aa94360d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372a0135e18fd22c559850aa94360d27">&#9670;&nbsp;</a></span>available_box</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitmap_8h.html#a635fc51278a0405ab33bc1adf9c3f58b">bitmap_t</a> available_box[<a class="el" href="k__defs_8h.html#afc673d12a10de2c32e1e87f49b5716b9">MSGBOX_BITMAP_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2687ae33d048cec3b698667e94d7f58e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2687ae33d048cec3b698667e94d7f58e">&#9670;&nbsp;</a></span>available_msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitmap_8h.html#a635fc51278a0405ab33bc1adf9c3f58b">bitmap_t</a> available_msg[<a class="el" href="k__defs_8h.html#a238392e852f08c23e6bbc8408adfcba1">MSG_BITMAP_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8cacbf0a017b070822ec6c213074b6af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cacbf0a017b070822ec6c213074b6af">&#9670;&nbsp;</a></span>msg_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t msg_buffer[<a class="el" href="k__defs_8h.html#a125068d98a9d9d367518ed22f5b8568e">MSG_MAX</a>][<a class="el" href="k__defs_8h.html#aa5a2da7fe0739dc631b4f9bc25ca1001">MSG_MAX_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff60e26295d93d5bcc2821a164d4a89f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff60e26295d93d5bcc2821a164d4a89f">&#9670;&nbsp;</a></span>msg_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="k__types_8h.html#a840a019f640bc1606dc2fb0e6a77189c">pmsg_t</a> msg_table[<a class="el" href="k__defs_8h.html#a125068d98a9d9d367518ed22f5b8568e">MSG_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af13fb459b3a3884a522d406c5b2fad24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af13fb459b3a3884a522d406c5b2fad24">&#9670;&nbsp;</a></span>msgbox</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="k__types_8h.html#adfae53016c14d3763e0455b0e6f38d21">pmsgbox_t</a> msgbox[<a class="el" href="k__defs_8h.html#af64b8ee4c12f1984c0da85a98942cd0d">BOXID_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
