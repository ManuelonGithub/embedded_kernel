<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lightweight Message-Passing Embedded Kernel: Lightweight Message-Passing Embedded Kernel</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lightweight Message-Passing Embedded Kernel
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Lightweight Message-Passing Embedded Kernel </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Project"></a>
Information</h1>
<p>This real-time kernel enables multi-tasking capabilities in an embedded environment. <br  />
 It also provides message-passing capabilities between processes and user Input/Output functionality via message-passing.</p>
<h1><a class="anchor" id="Processes"></a>
Processes</h1>
<p>Processes are instances of a CPU context. This includes all general purpose registers, the stack pointer, the program counter, and the status register. <br  />
 A process can be registered into the kernel using the pcreate kernel call, which requires a function that the processs will run, optionally a pointer to a process attribute function to allow customization of the process' ID, priority, and name. <br  />
 <a class="el" href="main_8c.html" title="Entry point of the embedded kernel.">main.c</a> is the default place to register processes in, but processes themselves can register processes. <br  />
 Due to the kernel being made for real-time operations, the number of supported process is static.</p>
<h1><a class="anchor" id="Kernel"></a>
calls</h1>
<p>Kernel functionality and information can be accessed by a process via kernel calls. <br  />
 The supported kernel calls can be found in <a class="el" href="calls_8h.html" title="Defines all kernel calls that the user has access to.">calls.h</a> <br  />
 Message-passing is done via kernel calls.</p>
<h1><a class="anchor" id="Message"></a>
Passing System</h1>
<p>This kernel uses a "boxing" system for message passing. A process must bind itself to an available message box in order to engage in inter-process communications. these message boxes allow the process to receive and send messages to other processes. A process can have multiple message boxes bound to it, and can unbind them at any time via an unbind kernel call. A process doesn't directly use messages in IPC, but rather it uses the send &amp; recv kernel calls to send byte streams of specified length to a specific message box (denoted by its box ID) from a message box owned by the process.</p>
<h2><a class="anchor" id="Process"></a>
Request Transaction</h2>
<p>A common interaction between process is sending a message to one with data pertaining a specific action to be performed by the destination process, and then receive a message from the same process with data related to the action performed. This is how a process communicates with the IO Server, which is responsible for displaying and receiving data to/from the user, although the request transaction is encapsulated with the send_user and recv_user kernel calls. To make these transaction process faster however, a "request" kernel call is offered that performs the sending and receiving with one kernel call instead of requiring two or more kernel calls to perform it.</p>
<h1><a class="anchor" id="IO"></a>
Server</h1>
<p>The kernel comes with a IO server process that enables data to be displayed and received to/by the user via a terminal. Accessing the IO server can be done via a request call to the IO_BOX message box, and the req_data must be a IO_metadata structure which contains information that the server requires to perform process requests to output data to user or receive data from user. This interaction is all encapsulated through send_user and recv_user kernel calls however.</p>
<p>subsection IO Server Terminal mode the IO server doubles up as a terminal program that can take in user commands to enable process' IO permissions, and to view system process' information. currently supported commands are: sysview: <br  />
 displays information about the system processes. <br  />
 setio pid# pid# pid#... : <br  />
 used to enable IO permissions for the system processes. Can be used with no pid# following it to enable IO permissions for all processes. <br  />
 cleario pid# pid# pid#... : <br  />
 used to disable IO permissions for the system processes. <br  />
 can be used with no pid# following it to disable IO permissions for all processes. <br  />
 run: <br  />
 Places IO server process in the background and allows user processes to run. <br  />
 Whenever the terminal process is running, the user-processes won't be able to run. the 'run' command must be inputted by the user to place the terminal in the background. <br  />
 The IO server can be set to be in terminal mode at anytime by inputting ctrl+c, which will then pause all user processes.</p>
<h1><a class="anchor" id="Communications"></a>
Communications</h1>
<p>The IO server uses UART to communicate with the user, which can be accessed by a computer via a Serial COM port and an emulated terminal program like PuTTY.</p>
<h2><a class="anchor" id="Serial"></a>
Port Settings</h2>
<ul>
<li>115200 baud rate,</li>
<li>8 data bits,</li>
<li>1 stop bit,</li>
<li>NO parity,</li>
<li>NO flow control.</li>
</ul>
<p>Check device manager (or equivalent) to see which COM port the board is connected to.</p><ul>
<li>Name of board is "Stellaris Virtual Serial Port"</li>
</ul>
<p>It is also recommended that you enable implicit CR in every LR &amp; implicit LR in every CR on your terminal settings. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
